<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" href="/css/style.css">
</head>
<body>
    <div class="mainText">
        
        <h1>MongoDB. CRUD</h1>
        <div>
            <p>
                <h3>Read</h3>
                Команды для чтение данных из текущей БД определённой коллекции:
                <ol>
                    <li>db.collectionName.find({query}, projection) -- найти все документы </li>
                    <li>db.collectionName.findAll({query}, projection) --найти один документ</li>
                </ol>
                Примеры:
                <ol>
                    <li>db.patients.find({ name: "Alex"}).pretty() -- найти в коллекции "patients" документы, значения ключа "name" которого равно "Alex"</li>
                    <li>db.patients.find({}, { name : 1 }).pretty() -- Вернуть все документы, но включая только атрибут "name" и "ObjectId"</li>
                    <li>db.patients.find({ age: {$gt : 25}}).pretty() -- найти в коллекции "patients" документы, значения ключа "age" больше 29</li>
                    <li>db.patients.find({ name: "Alex", "hobbies.sport" : "running"}).pretty() -- найти в коллекции "patients" документы, 
                        значения ключа "name" которого равно "Alex", а значения ключа hobbies есть массив, элементом которого является вложенный документ,
                        значение ключа "sport" которого равно "running"</li>
                </ol>
            </p>
        </div>
        <div>
            <p>
                <h3>Create</h3>
                Команды для внесение новых документов в текущую БД определённой коллекции:
                <ol>
                    <li>db.collectionName.insertOne({document}) -- добавить в коллекцию collectionName один документ document</li>
                    <li>db.collectionName.insertMane([{document1}, {document2}, ... ]) -- добавить в коллекцию collectionName массив документов document</li>
                </ol>
                Примеры:
                <ol>
                    <li>db.footballPlayers.insertOne({name: "Wayne", lastName : "Rooney", age : 35, history : ["Everton", "ManUtd", "Everton", "Derbi Country"]})
                        -- добавить в коллекцию <i>footballPlayers</i> новый документ.
                    </li>
                    <li>db.footballPlayers.insertMany(<br>name: "Wayne", lastName : "Rooney", age : 35, history : ["Everton", "ManUtd", "Everton", "Derbi Country"]}, <br>
                        name: "Paul", lastName : "Schooles", age : 42, history : ["ManUtd"]}<br>) -- добавить в коллекцию <i>footballPlayers</i> 
                        два документа</li>
                </ol>
            </p>
        </div>
        <div>
            <p>
                <h3>Update</h3>
                Команды для изменения существующих документов в текущей БД определённой коллекции:
                <ol>
                    <li>db.collectionName.updateOne({filter}, {update}) -- обновить в коллекции collectionName один документ document удовлетворяющий фильтру</li>
                    <li>db.collectionName.updateMany({filter}, {update}) -- обновить в коллекцииcollectionName массив документов document удовлетворяющие фильтру</li>
                    <li>db.collectionName.update({filter}, {replacement}) -- заменить в коллекции collectionName массив документов document удовлетворяющие фильтру</li>
                    <li>db.collectionName.replaceOne({filter}, {replacement}) -- заменить в коллекции collectionName документ document удовлетворяющий фильтру</li>
                    <li>db.collectionName.replaceMany({filter}, {replacement}) -- заменить в коллекции collectionName массив документов document удовлетворяющие фильтру</li>
                </ol>
                
                Примеры:
                <ol>
                    <li>db.footballPlayers.updateOne({name: "Wayne"}, {<b>$set</b> : {"Training" : "Derbi County"}}) -- обновить документ, значение ключа "name" которого
                        равно "Wayne", добавив ключ "Training" со значением "Derbi County".
                    </li>
                    <li>db.footballPlayers.updateMany({name: "Wayne"}, {<b>$set</b> : {"Training" : "Derbi County"}}) -- обновить документы, 
                        значение ключа "name" которых равно "Wayne", добавив ключ "Training" со значением "Derbi County".
                    </li>
                    <li>db.footballPlayers.update({name: "Wayne"}, {<b>$set</b> : {"Training" : "Derbi County"}}) -- обновить (а если не имеется, то добавить) ключ, со 
                        значением "Training" на значение "Derbi County" во всех документах, значение "name" которых равно "Wayne". 
                        Если убрать <b>$set</b>, то команда <b>заменит</b> документы, значение "name" которых равно "Wayne", на документы {"Training" : "Dergni County"}.
                    </li>
                    <li>db.footballPlayers.replaceOne({name: "Wayne"}, {"Training" : "Derbi County"}) -- заменить документ, значение ключа "name" которого
                        равно "Wayne", на документ {"Training" : "Derbi County"}.
                    </li>
                    <li>db.footballPlayers.replaceMany({name: "Wayne"},  {"Training" : "Derbi County"}) -- заменить документы, значение ключа "name" которого
                        равно "Wayne", на документы {"Training" : "Derbi County"}.
                    </li>
                </ol>
            </p>
        </div>
        <div>
            <p>
                <h3>Delete</h3>
                Команды для удаление документов в текущей БД определённой коллекции:
                <ol>
                    <li>db.collectionName.deleteOne({filter}) -- удалить документ в коллекции collectionName один документ document удовлетворяющий фильтру</li>
                    <li>db.collectionName.deleteMany({filter}) -- удалить документы в коллекции collectionName удовлетворяющие фильтру</li>
                </ol>

                Примеры:
                <ol>
                    <li>
                        db.footballPlayers.deleteOne({"name" : "Wayne"}) -- удалить документ в коллекции footballPlayers, с ключом "name", значение 
                        которого равно "Wayne"
                    </li>
                    <li>
                        db.footballPlayers.deleteMany({"name" : "Wayne"}) -- удалить документы в коллекции footballPlayers, с ключом "name", значение 
                        которых равно "Wayne"
                    </li>
                </ol>
            </p>
        </div>
    </div>    
</body>