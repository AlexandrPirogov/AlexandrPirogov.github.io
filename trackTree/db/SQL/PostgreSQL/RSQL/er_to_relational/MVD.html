<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="/css/newstyle.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Nunito">
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

</head>
<body>
    <div class="mainText">
       
        <h1>Многозначные знависимости</h1>

        <div class="part">
            <h2>Вступление</h2>

            <i>Многозначная зависимость (multivalued dependency -- MVD)</i> -- это утверждение о том, что два атрибута или множества атрибутов независимы друг от друга.
            Это условие, как будет показано позже, является обобщением понятие <i>функциональной зависимости</i> в том смысле, что каждая FD подразумевает справедливость 
            соответствующей MVD. Существуют ситуации, в которых Независимость атрибутов не может быть выражена в терминах FD.
        </div>

        <div class="part">
            <h2>Независимость атрибутов как причина избыточности</h2>

            Встречаются ситуации, когда реляционная схема удовлетворяет условию BCNF , но отношение все ещё избыточно, и причина этого явления не связана с FD.
            Весьма часто избыточность в схемах BCNF возникает при попытке представить в рамках одного отношения данные нескольких связей типа "многие ко многим".
            <div class="example">
                Здесь будет пример
                <div class="exampleImage">
                   Здесь будет рисунок примера
                </div>
            </div>
        </div>

        <div class="part">
            <h2>Определение многозначной зависимости</h2>

            <i>Многозначная зависимость</i> -- это утверждение о том, что некоторое множество атрибутов отношения R не зависит от другого множества атрибутов. 
            Если говорить формально, то: 
            <br><br> A1 A2 ... An -->> B1 B2 ... Bm
            <br><br>
            для отношения R имеет место тогда, когда выполняется следующее условие: если мы сосредоточим внимание на кортежах R которые в каждом из атрибутов
            A1, A2, ..., An содержат определенные значения, то множество значений атрибутов B1, B2, ..., Bm не зависит от множества значений атрибутов, не 
            относящихся ни к A1, A2, ..., An, ни к B1, B2, ..., Bm. Формально:
            <ul>
                <li>
                    Для каждой пары кортежей t и u отношения R, которые совпадают во всех атрибутах A1, A2, ..., An, можно найти в R некоторый кортеж v, совпадающий:
                    <ol>
                        <li>С кортежами t и u в атрибутах A1, A2, ..., An;</li>
                        <li>с кортежем t в атрибутах B1, B2, ..., Bm;</li>
                        <li>с кортежем u во всех атрибутах отношения R, которые не принадлежат ни множеству {A1, A2, .., An}, ни множеству {B1, B2, ..., Bm}</li>
                    </ol>
                </li>
            </ul>

            <p>
                Заметьте, что атрибуты t и u в контексте правила взаимозаменяемы; это позволяет обосновать существования четвертого кортежа w, который совпадает с
                u в атрибутах B1, B2, ..., Bm и с t --  в других атрибутах. Как следствие, для любых фиксированных значений атрибутов A1, A2, ..., An связанные с ними
                значения B1, B2, ..., Bm и других атрибутов располагаются в любых возможных сочетаниях кортежей.
            </p>
            <div class="example">
                <p>
                    На рисунке представлено, как кортеж v может соотноситься с кортежами t и u, сохраняя в силе условие MVD.
                </p>
                <div class="exampleImage">
                   Здесь будет рисунок примера
                </div>
            </div>

            <p>
                В общем случае можно полагать, что множества {A1, A2, ..., An} и {B1, B2, ..., Bm} (левая и правая часть MVD) не пересекаются. Однако, как и в случае
                с FD, допустимо при необходимости добавлять некоторые из атрибутов A1, A2, ..., An в праву часть MVD. Заметим также, что, в отличие от FD, которые допускают
                наличие в правой части и отдельных атрибутов, и их множеств, представляющих сокрашенную запись нескольких FD, MVD позволяют изначально задавать в 
                правой части только множества атрибутов.
            </p>

            <div class="example">
                <p>
                   
                </p>
                <div class="exampleImage">
                   Здесь будет рисунок примера
                </div>
            </div>
        </div>

        <div class="part">
            <h2>Правила использования многозначных зависимостей</h2>

            <p>
                Существует набор правил использования MVD:
                <ul>
                    <li>
                        <i>Правило тривиальной зависимости</i>. Если для некоторого отношения выполняется условие MVD A1 A2 ... An -->> B1 B2 ... Bm, 
                        должно выполняться и условие A1 A2 ... An -->> C1 C2 ... Ck, где {C1, C2, ..., Ck} -- это {B1, B2, ..., Bm} плюс один или несколько 
                        атрибутов A1, A2, ..., An. И наоборот, мы можем также удалить атрибуты из {B1, B2, ..., Bm}, если они совпадают с A1, A2, ..., An, и получить 
                        MVD A1 A2 ... An -->> D1 D2 ... Dr, если D1, D2, ..., Dr совпадают с теми B1, B2, ..., Bm, которых нет среди A1, A2, ..., An.
                    </li>
                    <li>
                        <i>Правило транзитивности</i>. Если для некотрого отношения справедливы MVD A1 A2 ... An -->> B1 B2 ... Bm и B1 B2 ... Bm -->> C1 C2 ... Ck,
                        должно выполняться и условие A1 A2 ... An -->> C1 C2 ... Ck
                        <br>Однако каждый из атрибутов C1, C2, ..., Ck, который также принадлежит {B1, B2, ..., Bm}, должен быть удален из правой части MVD. 
                    </li>
                </ul>
            </p>
            <p>
                Впрочем, многозначные зависимости не поддерживают ту часть правила разделения/объеденения, которая касается разделения атрибутов, и этот аспект 
                иллюстрируется следующим примером.
            </p>
            <div class="example">
                Здесь будет пример
                <div class="exampleImage">
                   Здесь будет рисунок примера
                </div>
            </div>

            <p>
                MVD подчиняются и некоторым другим правилам:
                <ul>
                    <li>
                        Каждая FD является одновременно и MVD. То есть, если A1 A2 ... An --> B1 B2 ... Bm, то A1 A2 ... An -->> B1 B2 ... Bm.
                    </li>
                    <li>
                        <i>Правило дополнения</i>. Если A1 A2 ... An -->> B1 B2 ... Bm -- MVD, справедливая для отношения R, тогда отношению R также удовлетворяет
                        MVD A1 A2 ... An -->> C1 C2 ... Ck, где C1, C2, ..., Ck -- это атрибуты, не принадлижащие ни {A1, A2, ..., An}, ни {B1, B2, ..., Bm}.
                    </li>
                </ul>
            </p>
        </div>

        <div class="part">
            <h2>Четвёртая нормальная форма</h2>
            <p>
                Избыточность, обусловленная MVD, может быть устранена, если использовать эту зависимость в качестве отправного пункта в другом алгоритме декомпозиции
                отношений. <i>Четвертая нормальная форма (4NF)</i> предполагает изъятие всех "нетривиальных" MVD наряду со всеми FD, нарушающие условие BCNF. Отношения,
                полученные в результате декомпозиции, будут избавлены от избыточности, причиной которой служат как FD, так и MVD. 
            </p> 
            <p>
                MVD A1 A2 ... An -->> B1 B2 ... Bm для отношения R является <i>нетривиальной</i>, если:
                <ol>
                    <li>ни один из атрибутов B1, B2, ..., Bm не совпадает с A1, A2, ... An;</li>
                    <li>не все атрибуты R принадлежат {A1, A2, ..., An} и {B1, B2, ..., Bm}</li>
                </ol>
            </p>
            <p>
                Условие четвертой нормальной формы суть условие BCNF, но применяется к MVD, а не к FD.
                <ul>
                    <li>
                        Отношение R удовлетворяет 4NF, если выполняется следующее требование: всякий раз, когда для отношения R существует некоторая нетривиальная MVD
                        A1 A2 ... An -->> B1 B2 ... Bm, соответствующее множество {A1, A2, ..., An} представляет суперключ для R.
                    </li>
                </ul>
                <br>Иными словами, если отношение удовлетворяет условию 4NF, каждая нетривиальная многозначная зависимость фактически является функциональной 
                зависимостью с суперключом в левой части. Заметьте, что понятия "ключ" и "суперключ" основаны на определении FD; при рассмотрении MVD их смысл не меняется.
            </p>
            <div class="example">
                Здесь будет пример
                <div class="exampleImage">
                   Здесь будет рисунок примера
                </div>
            </div>
        </div>


        <div class="part">
            <h2>Декомпозиция в 4NF</h2>

            Алгоритм 4NF-декомпозиции аналогичен алгоритму BCNF-декомпозиции. Нарушение условия 4NF означает, что существует некоторая нетривиальная MVD
            A1 A2 ... An -->> B1 B2 ... Bm, такая, что множество {A1, A2, ..., An} не является суперключом. Заметим, что эта MVD может быть определена явно 
            либо выведена из соответствующей FD A1 A2 ... An --> B1 B2 ... Bm, посколкьу каждая FD суть MVD. Затем схема отношения R, в которой замечено нарушение условия 
            4NF, разбивается на две схемы, содержащие:
            <ol>
                <li>
                    Множества атрибутов {A1, A2, ..., An} и {A1, B2, ..., Bm};
                </li>
                <li>
                    Множество атрибутов {A1, A2, ..., An} и все атрибуты R, которые не принадлежат ни {A1, A2, ..., An}, ни {B1, B2, ..., Bm}.
                </li>
            </ol>
            <div class="example">
                Здесь будет пример
                <div class="exampleImage">
                   Здесь будет рисунок примера
                </div>
            </div>
        </div>

<!--
        <div class="part">
            <h2>Взаимотношение нормальных форм</h2>

            
            <div class="example">
                Здесь будет пример
                <div class="exampleImage">
                   Здесь будет рисунок примера
                </div>
            </div>
        </div>
-->
    </div>
</body>